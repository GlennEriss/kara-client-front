# Wireframe â€“ Ã‰tat SÃ©lectionnÃ© (ValidÃ©)

## Description

Ã‰tat du composant `IntermediaryCodeSearch` aprÃ¨s qu'un membre ait Ã©tÃ© sÃ©lectionnÃ© et validÃ©.

## Wireframe ASCII

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ã‰TAPE 1 : INFORMATIONS D'IDENTITÃ‰                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ” Qui vous a rÃ©fÃ©rÃ©? *                                   â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚ â”‚ [ğŸ”] 1228.MK.0058                            [âœ“]    â”‚   â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚ âœ… Format valide                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## SpÃ©cifications visuelles

### Input avec code sÃ©lectionnÃ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ”] 1228.MK.0058                                    [âœ“]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Styles** :
- Bordure : `border-[#CBB171]` (KARA Gold)
- Fond : `bg-[#CBB171]/5` (KARA Gold Ã  5% d'opacitÃ©)
- Texte : `text-sm font-mono tracking-wider text-gray-900`
- IcÃ´ne validation : `w-5 h-5 text-green-500` Ã  droite
- Transition : `transition-all duration-200`

**Animation** :
- L'icÃ´ne de validation apparaÃ®t avec un zoom : `animate-in zoom-in-50 duration-200`

### Message de validation

```
âœ… Format valide
```

**Styles** :
- Texte : `text-xs text-green-600`
- IcÃ´ne : CheckCircle, `w-3 h-3 text-green-500`
- Marge : `mt-1` (4px depuis l'input)
- Animation : `animate-in slide-in-from-bottom-2 duration-300`

## Dimensions

| Ã‰lÃ©ment | Largeur | Hauteur | Notes |
|---------|---------|---------|-------|
| Input | 100% | 48px | `h-12` |
| IcÃ´ne validation | 20px | 20px | `w-5 h-5` |
| Message validation | Auto | Auto | S'adapte au contenu |

## Couleurs

| Ã‰lÃ©ment | Couleur | Code Hex | Classe Tailwind |
|---------|---------|----------|-----------------|
| Bordure input | KARA Gold | `#CBB171` | `border-[#CBB171]` |
| Fond input | KARA Gold clair | `rgba(203, 177, 113, 0.05)` | `bg-[#CBB171]/5` |
| IcÃ´ne validation | Vert | `#10b981` | `text-green-500` |
| Texte validation | Vert foncÃ© | `#059669` | `text-green-600` |
| Texte code | Gris foncÃ© | `#111827` | `text-gray-900` |

## Ã‰tats visuels

### Transition depuis l'Ã©tat "recherche"

1. **SÃ©lection d'un rÃ©sultat** :
   - La liste se ferme (`animate-out fade-out-0 slide-out-to-top-2`)
   - Le code apparaÃ®t dans l'input
   - La bordure change de `rose-500` Ã  `#CBB171` (transition 200ms)
   - Le fond change de `white` Ã  `#CBB171/5` (transition 200ms)
   - L'icÃ´ne de validation apparaÃ®t avec zoom (200ms)

2. **Message de validation** :
   - ApparaÃ®t avec slide depuis le bas (300ms)
   - Remplace le hint prÃ©cÃ©dent

## Comportement

### Interactions

1. **Clic sur l'input** :
   - Le champ reste en Ã©tat "sÃ©lectionnÃ©"
   - La liste peut se rouvrir pour changer la sÃ©lection
   - Le code reste affichÃ©

2. **Effacement (si bouton clear prÃ©sent)** :
   - Clic sur le bouton clear
   - Retour Ã  l'Ã©tat initial
   - Le code est effacÃ©
   - La bordure redevient `rose-200`

3. **Modification manuelle** :
   - Si l'utilisateur modifie le code manuellement
   - L'Ã©tat "sÃ©lectionnÃ©" disparaÃ®t
   - Retour Ã  l'Ã©tat "recherche active" si >= 2 caractÃ¨res
   - Validation du format en temps rÃ©el

## Code HTML/CSS de rÃ©fÃ©rence

```tsx
<div className="space-y-2 w-full">
  <Label className="text-xs sm:text-sm font-semibold text-[#224D62] flex items-center gap-2">
    <Hash className="w-4 h-4 text-rose-600" />
    Qui vous a rÃ©fÃ©rÃ©? <span className="text-red-500">*</span>
  </Label>
  
  <div className="relative">
    <Input
      data-testid="intermediary-code-search-input"
      value={selectedCode}
      readOnly
      className={cn(
        "h-12 rounded-xl border-2 bg-[#CBB171]/5 font-mono tracking-wider text-sm",
        "border-[#CBB171] focus:border-[#CBB171] focus:ring-[#CBB171]/20",
        "transition-all duration-200"
      )}
    />
    
    {isValidated && (
      <CheckCircle
        data-testid="intermediary-code-search-check-icon"
        className="absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-500 animate-in zoom-in-50 duration-200"
      />
    )}
  </div>
  
  {isValidated && (
    <div
      data-testid="intermediary-code-search-validated"
      className="flex items-center gap-1 mt-1 animate-in slide-in-from-bottom-2 duration-300"
    >
      <CheckCircle className="w-3 h-3 text-green-500" />
      <span className="text-xs text-green-600">Format valide</span>
    </div>
  )}
</div>
```

## Variante : Avec bouton clear

Si un bouton pour effacer la sÃ©lection est ajoutÃ© :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ”] 1228.MK.0058                                    [âœ“] [Ã—] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Bouton clear** :
- Position : Ã€ droite de l'icÃ´ne de validation
- Style : `w-10 h-10 rounded-lg hover:bg-gray-100`
- IcÃ´ne : X, `w-4 h-4 text-gray-400`
- data-testid : `intermediary-code-search-clear`

## Animations

### Apparition de l'icÃ´ne de validation

```css
/* Zoom depuis le centre */
animate-in zoom-in-50 duration-200
```

**Effet** : L'icÃ´ne apparaÃ®t avec un zoom de 50% Ã  100% en 200ms.

### Apparition du message de validation

```css
/* Slide depuis le bas */
animate-in slide-in-from-bottom-2 duration-300
```

**Effet** : Le message slide depuis 8px en dessous vers sa position finale en 300ms.

### Transition de bordure et fond

```css
/* Transition douce */
transition-all duration-200 ease-in-out
```

**Effet** : Changement de couleur de bordure et fond en 200ms.

## AccessibilitÃ©

### Attributs ARIA

```tsx
<Input
  role="combobox"
  aria-expanded="false"
  aria-label="Code entremetteur sÃ©lectionnÃ©"
  aria-readonly="true"
  value={selectedCode}
/>

<div
  role="status"
  aria-live="polite"
  aria-label="Code entremetteur validÃ©"
>
  Format valide
</div>
```

### Navigation clavier

- **Tab** : Focus sur le champ suivant
- **EntrÃ©e/Espace** : Peut rouvrir la liste pour changer la sÃ©lection
- **Suppr/Backspace** : Peut effacer la sÃ©lection (si fonctionnalitÃ© implÃ©mentÃ©e)

## Responsive

### Mobile (< 640px)

**CaractÃ©ristiques** :
- IcÃ´ne validation : `w-4 h-4` (16px au lieu de 20px)
- Message validation : `text-xs` (12px)
- Padding input : `px-3` (12px - rÃ©duit pour laisser place Ã  l'icÃ´ne)
- Position icÃ´ne : `right-3` (12px depuis la droite)

**Classes CSS** :
```tsx
// Input
className="h-12 rounded-xl border-2 border-[#CBB171] bg-[#CBB171]/5 px-3 py-3 text-sm font-mono"

// IcÃ´ne validation
className="absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-green-500"

// Message validation
className="text-xs text-green-600 mt-1 flex items-center gap-1"
```

### Tablette (640px - 1024px)

**CaractÃ©ristiques** :
- IcÃ´ne validation : `w-5 h-5` (20px)
- Message validation : `text-xs` (12px)
- Padding input : `px-4` (16px)
- Position icÃ´ne : `right-3` (12px depuis la droite)

**Classes CSS** :
```tsx
// Input
className="h-12 rounded-xl border-2 border-[#CBB171] bg-[#CBB171]/5 px-4 py-3 text-sm font-mono"

// IcÃ´ne validation
className="absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-500"

// Message validation
className="text-xs text-green-600 mt-1 flex items-center gap-1"
```

### Desktop (> 1024px)

**CaractÃ©ristiques** :
- IcÃ´ne validation : `w-5 h-5` (20px)
- Message validation : `text-xs` (12px)
- Padding input : `px-4` (16px)
- Position icÃ´ne : `right-3` (12px depuis la droite)

**Classes CSS** :
```tsx
// Input
className="h-12 rounded-xl border-2 border-[#CBB171] bg-[#CBB171]/5 px-4 py-3 text-sm font-mono"

// IcÃ´ne validation
className="absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-500"

// Message validation
className="text-xs text-green-600 mt-1 flex items-center gap-1"
```

## Ã‰tats d'erreur (si format invalide)

Si l'utilisateur modifie manuellement le code et que le format devient invalide :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ”] 1234.ABC.5678                                    [âš ï¸]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
âš ï¸ Format requis: [NumÃ©ro].MK.[NumÃ©ro] (ex: 1228.MK.0058)
```

**Styles erreur** :
- Bordure : `border-red-500`
- Fond : `bg-red-50`
- IcÃ´ne : AlertCircle, `text-red-500`
- Message : `text-xs text-red-500`
